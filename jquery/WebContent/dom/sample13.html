<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<h1>선택된 엘리먼트를 필터링하는 메서드</h1>
	
	<div class="box">
		<div class="row">
			<h4 class="best">짜장면</h4>
			<p><span>4500</span>원</p>
		</div>
		<div class="row">
			<h4>해물우동</h4>
			<p><span>6000</span>원</p>
		</div>
		<div class="row">
			<h4 class="best">짬뽕</h4>
			<p><span>8000</span>원</p>
		</div>
		<div class="row">
			<h4 class="best">굴짬뽕</h4>
			<p><span>9000</span>원</p>
		</div>
	</div>
<script type="text/javascript" src="../resources/js/jquery/jquery-3.5.1.min.js"></script>
<script type="text/javascript">
	$(function () {
		// 모든 메뉴명과 가격을 화면에 출력
		$(".row").each(function(index, el) {
			var name = $(el).find('h4').text();
			var price = $(el).find('span').text();
			console.log(name, price);
		})
		
		// 모든 메뉴중에서 첫번째 메뉴의 이름과 가격을 화면에 출력
		var name1 = $(".row:first").find('h4').text();
		var price1 = $(".row").first().find('span').text();
		console.log("첫번째 메뉴", name1, price1);
		
		// 모든 메뉴중에서 마지막번째 메뉴의 이름과 가격을 화면에 출력
		var name1 = $(".row:last").find('h4').text();
		var price1 = $('.row').last().find('span').text();
		console.log("마지막 메뉴", name1, price1);
		
		// 모든 메뉴중에서 2번째 메뉴의 이름과 가격을 화면에 출력
		var name2 = $('.row:eq(1)').find('h4').text();
		var price2 = $('.row').eq(1).find('span').text();
		console.log("두번째 메뉴", name1, price1);
		// 앞의 $()들은 조건이지	 $('.row:eq(1)') 조건
		// find가 자손 찾는거		.find('span')	자손 조건
		
		// 모든 메뉴중에서 best인 메뉴의 개수를 출력
		var len1 = $(".row:has(.best)").length;
		var len2 = $(".row").has(".best").length;
		var len3 = $(".row").filter(':has(.best)').length;
		console.log("베스트 메뉴 개수", len1, len2, len3);
		
		// 베스트 메뉴중에서 두번째 메뉴 이름, 가격을 출력
		var name3 = $('.row:has(.best):eq(1)').find('h4').text();
		var name4 = $('.row').has('.best').eq(1).find('h4').text();
		var name5 = $('.row').has('.best').filter(':eq(1)').find('h4').text();
		var name6 = $('.row').filter(':has(.best):eq(1)').find('h4').text();
		console.log("두번째 베스트 메뉴", name3, name4, name5, name6);
		
		// 모든 메뉴 중에서 가격이 8000원 미만인 메뉴의 배경색을 변경
		$('.row').filter(function(index) {
			var price = parseInt($(this).find('span').text());
			return price < 8000;
		}).css('background-color', 'lightgreen');
		
		// 모든 메뉴중에서 가격이 8000원 미만인 메뉴의 이름과 가격을 출력
		$(".row").filter(function(index) {	// filter는 each처럼 반복
			var price = parseInt($(this).find('span').text());
			return price < 8000;
		}).each(function(index, el) {
			var name = $(el).find('h4').text();
			var price = $(el).find('span').text();
			console.log("저렴한 메뉴", name, price);
		})
		
	})
</script>
</body>
</html>