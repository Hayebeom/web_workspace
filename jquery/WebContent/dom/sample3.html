<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<h1>여러 개의 컨텐츠, 값 조회</h1>

	<h3>세미나 참가자</h3>
	<ul id="seminar-persons">
		<li>이순신</li>
		<li>김유신</li>
		<li>강감찬</li>
		<li>류관순</li>
	</ul>
	
	<h3>수강생 리스트</h3>
	<table id="student-list" border="1" style="width:100%; ">
		<thead>
			<tr>
				<th>학번</th>
				<th>이름</th>
				<th>학과</th>
				<th>학년</th>
			</tr>
		</thead>
		<tbody>
			
		</tbody>
	</table>
<script type="text/javascript" src="../resources/js/jquery/jquery-3.5.1.min.js"></script>
<script type="text/javascript">
	// 세미나 참가자를 조회해서 한명씩 콘솔에 출력	
	// $(선택자).each(function(index, element) { ... })
	// 선택자로 선택된 엘리먼트의 개수만큼, 정의된 함수가 실행됨
	// 함수가 실행될 때마다 index와 element 변수에 인덱스값과 검색된 엘리먼트객체가 순서서대로 전달된다
	// var content = $("#seminar-persons li").text();
	// console.log(content);	// 이순신김유신강감찬류관순
	
	// each : element 값을 하나씩 조회할 때 사용
	$("#seminar-persons li").each(function(index, element) {
//		console.log(index, element);	// <li>이순신</li> <li>김유신</li> <li>강감찬</li> <li>류관순</li>
		console.log(index, $(element).text());	// "이순신" "김유신" "강감찬" "류관순"
	});
	
	// ★★★
	var personNames = [];
	// $(선택자).each(function() { ... this ... })
	// 지정된 함수가 실행될 때마다 함수 내의 this에는 검색된 엘리먼트 객체가 순서대로 전달됨
	// this는 단순 엘리먼트 객체, $(this)를 실행시켜서 jQuery객체로 변환, 사용 장려
	$("#seminar-persons li").each(function() {
//		console.log(this); // <li>이순신</li> <li>김유신</li> <li>강감찬</li> <li>류관순</li>
		var personName = $(this).text();
//		console.log(personName); // 이순신 김유신 강감찬 류관순
		
		personNames.push(personName);
	})
	console.log("참가자 배열", personNames);
	
	// $.each(배열, 함수)를 사용해서 자바스크립트 배열 다루기
	// $(선택자).each(함수)
	// $.each(단순배열, 함수)	// 완전 다름
	
	var students = [
		{no:100, name:"홍길동", dept:"전자공학과", grade:4},
		{no:102, name:"강감찬", dept:"전자공학과", grade:3},
		{no:104, name:"김유신", dept:"전자공학과", grade:2},
		{no:200, name:"이순신", dept:"컴퓨터공학과", grade:4},
		{no:210, name:"류관순", dept:"컴퓨터공학과", grade:1},
	];
	
	var $tbody = $("#student-list tbody");
	$.each(students, function(index, stud) {
		var content = "<tr>";
		content += "<td>"+stud.no+"</td>";
		content += "<td>"+stud.name+"</td>";
		content += "<td>"+stud.dept+"</td>";
		content += "<td>"+stud.grade+"</td>";
		content += "</tr>";
		
		$tbody.append(content);
	})
	
	
	// 단순배열을 다루는 each의 콜백함수 내부에서 사용되는 this에는 배열의 각 요소가 순서대로 전달됨
	$.each(students, function() {
		var content = "<tr>";
		content += "<td>"+this.no+"</td>";
		content += "<td>"+this.name+"</td>";
		content += "<td>"+this.dept+"</td>";
		content += "<td>"+this.grade+"</td>";
		content += "</tr>";
		
		$tbody.append(content);
	})
	
	
</script>
</body>
</html>
